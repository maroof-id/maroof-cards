#!/bin/bash

echo "======================================"
echo "   ????? ???? ?????? NFC"
echo "======================================"

echo -e "\n1?? ???????? ???????:"
pip3 list | grep -E "(nfc|ndef)"

echo -e "\n2?? ????? nfc/tag:"
ls -la ~/.local/lib/python3.11/site-packages/nfc/tag/ 2>/dev/null || echo "?? ????"

echo -e "\n3?? ????? __init__.py:"
grep -n "import.*ndef" ~/.local/lib/python3.11/site-packages/nfc/tag/__init__.py 2>/dev/null || echo "?? ????"

echo -e "\n4?? ????? USB:"
lsusb | grep -E "(1a86|CH340)"

echo -e "\n5?? ??????? Serial:"
ls -la /dev/ttyUSB* 2>/dev/null || echo "?? ????"

echo -e "\n6?? ?????????:"
ls -la /dev/ttyUSB0 2>/dev/null || echo "?? ????"

echo -e "\n7?? ???????? ????????? ??????:"
lsof /dev/ttyUSB0 2>/dev/null || echo "?? ???? ??????"

echo -e "\n8?? ?????? ??????? nfc:"
python3 -c "import nfc; print('? ???')" 2>&1

echo -e "\n======================================"
